# Masker API Configuration
# Copy this file to .env and configure as needed

# ========================================
# Server Settings
# ========================================
MASKER_PORT=8000

# ========================================
# API Keys (required for /v1/chat/completions)
# ========================================
# Format: "key1:tenant1,key2:tenant2"
# Example: "sk-masker-abc123:my_company,sk-masker-xyz789:partner_org"
MASKER_API_KEYS=sk-demo-key:demo_tenant

# ========================================
# Upstream LLM Configuration
# ========================================
# URL of the upstream LLM API (OpenAI-compatible)
MASKER_UPSTREAM_URL=https://api.openai.com/v1/chat/completions

# Timeout for upstream requests in seconds
MASKER_UPSTREAM_TIMEOUT=60

# ========================================
# Policy Settings
# ========================================
# Directory containing policy YAML files
MASKER_POLICIES_DIR=./policies

# Default policy ID (filename without .yaml extension)
MASKER_DEFAULT_POLICY_ID=default

# Default fail mode: "closed" (block on error) or "open" (forward on error)
MASKER_DEFAULT_FAIL_MODE=closed

# ========================================
# Audit Settings
# ========================================
# Directory for audit logs (JSONL files with daily rotation)
MASKER_AUDIT_DIR=./audit

# Enable/disable audit logging
MASKER_AUDIT_ENABLED=true

# ========================================
# Request Limits
# ========================================
# Maximum text size in bytes (default: 32KB)
MASKER_MAX_TEXT_SIZE=32768

# Maximum payload size in bytes (default: 64KB)
MASKER_MAX_PAYLOAD_SIZE=65536
